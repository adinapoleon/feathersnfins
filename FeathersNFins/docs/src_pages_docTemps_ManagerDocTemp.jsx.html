<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: src/pages/docTemps/ManagerDocTemp.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: src/pages/docTemps/ManagerDocTemp.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// State hooks to manage data for different views
const [activeView, setActiveView] = useState("Menu Items");
const [menuItems, setMenuItems] = useState([]); // Menu items data
const [inventoryItems, setInventoryItems] = useState([]); // Inventory items data
const [employees, setEmployees] = useState([]); // Employees data
const [analyticsData, setAnalyticsData] = useState([]); // Analytics data
const [error, setError] = useState(null); // Error state for data fetching

// Authentication context to manage user session
const { isAuthenticated, user } = useAuth();

/**
 * Logs the authentication state whenever it changes.
 */
useEffect(() => {
  console.log('Auth State:', { isAuthenticated, user });
}, [isAuthenticated, user]);

/**
 * Fetches data based on the currently active view (Menu Items, Inventory, Employees, or Analytics).
 */
useEffect(() => {
  switch (activeView) {
    case "Menu Items":
      fetchMenuItems();
      break;
    case "Inventory":
      fetchInventoryItems();
      break;
    case "Employee":
      fetchEmployees();
      break;
    case "Analytics":
      fetchAnalyticsData();
      break;
    default:
      break;
  }
}, [activeView]);

/**
 * Fetches the menu items from the server and updates the state.
 */
const fetchMenuItems = async () => {
  try {
    const response = await fetch("https://project-3-a7za.onrender.com/menu");
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    const data = await response.json();
    setMenuItems(data);
    setError(null);
  } catch (error) {
    console.error("Error fetching menu items:", error);
    setError("Failed to fetch menu items.");
  }
};

/**
 * Fetches the inventory items from the server and updates the state.
 */
const fetchInventoryItems = async () => {
  try {
    const response = await fetch("https://project-3-a7za.onrender.com/inventory");
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    const data = await response.json();
    setInventoryItems(data);
    setError(null);
  } catch (error) {
    console.error("Error fetching inventory items:", error);
    setError("Failed to fetch inventory items.");
  }
};

/**
 * Fetches the employee data from the server and updates the state.
 */
const fetchEmployees = async () => {
  try {
    const response = await fetch("https://project-3-a7za.onrender.com/employee");
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    const data = await response.json();
    setEmployees(data);
    setError(null);
  } catch (error) {
    console.error("Error fetching employees:", error);
    setError("Failed to fetch employees.");
  }
};

/**
 * Fetches the analytics data from the server and updates the state.
 */
const fetchAnalyticsData = async () => {
  try {
    const response = await fetch("https://project-3-a7za.onrender.com/analytics");
    if (!response.ok) {
      throw new Error("Network response was not ok");
    }
    const data = await response.json();
    console.log("Fetched Analytics Data:", data); // Debugging log
    setAnalyticsData(data); // Set the raw analytics data
    setError(null);
  } catch (error) {
    console.error("Error fetching analytics data:", error);
    setError("Failed to fetch analytics data.");
  }
};

/**
 * Retrieves the active view from localStorage when the component mounts
 * and sets it as the initial active view.
 */
useEffect(() => {
  const savedActiveView = localStorage.getItem('activeView');
  if (savedActiveView) {
    setActiveView(savedActiveView);  // Set the active view from localStorage
  } else {
    setActiveView("Menu Items");  // Default to "Menu Items" if no saved value
  }
}, []);

/**
 * Updates the active view and stores it in localStorage.
 *
 * @param {string} view - The view to switch to (e.g., "Menu Items", "Inventory", etc.)
 */
const handleViewChange = (view) => {
  setActiveView(view);
  localStorage.setItem('activeView', view);  // Save the active view to localStorage
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AboutSection">AboutSection</a></li><li><a href="global.html#AnalyticsDashboard">AnalyticsDashboard</a></li><li><a href="global.html#LoginModal">LoginModal</a></li><li><a href="global.html#MenuItem">MenuItem</a></li><li><a href="global.html#ReviewModal">ReviewModal</a></li><li><a href="global.html#ThankYouModal">ThankYouModal</a></li><li><a href="global.html#addEmployee">addEmployee</a></li><li><a href="global.html#addInventoryItem">addInventoryItem</a></li><li><a href="global.html#addMenuItem">addMenuItem</a></li><li><a href="global.html#addToCart">addToCart</a></li><li><a href="global.html#calculateTimeDifference">calculateTimeDifference</a></li><li><a href="global.html#calculateTotal">calculateTotal</a></li><li><a href="global.html#createCustomer">createCustomer</a></li><li><a href="global.html#createCustomerWithAddress">createCustomerWithAddress</a></li><li><a href="global.html#createOrder">createOrder</a></li><li><a href="global.html#createOrderItem">createOrderItem</a></li><li><a href="global.html#currentOrders">currentOrders</a></li><li><a href="global.html#deleteEmployee">deleteEmployee</a></li><li><a href="global.html#deleteInventoryItem">deleteInventoryItem</a></li><li><a href="global.html#deleteMenuItem">deleteMenuItem</a></li><li><a href="global.html#editMenuItem">editMenuItem</a></li><li><a href="global.html#fetchAnalyticsData">fetchAnalyticsData</a></li><li><a href="global.html#fetchEmployees">fetchEmployees</a></li><li><a href="global.html#fetchInventoryItems">fetchInventoryItems</a></li><li><a href="global.html#fetchMenuItems">fetchMenuItems</a></li><li><a href="global.html#fetchSalesData">fetchSalesData</a></li><li><a href="global.html#finalizeModifications">finalizeModifications</a></li><li><a href="global.html#getAllEmployees">getAllEmployees</a></li><li><a href="global.html#getAnalytics">getAnalytics</a></li><li><a href="global.html#getCompletedOrders">getCompletedOrders</a></li><li><a href="global.html#getCustomOrderedItems">getCustomOrderedItems</a></li><li><a href="global.html#getCustomers">getCustomers</a></li><li><a href="global.html#getEmployeeById">getEmployeeById</a></li><li><a href="global.html#getEmployeeIdByUsername">getEmployeeIdByUsername</a></li><li><a href="global.html#getInventory">getInventory</a></li><li><a href="global.html#getInventoryItemById">getInventoryItemById</a></li><li><a href="global.html#getItemsByCategory">getItemsByCategory</a></li><li><a href="global.html#getMenu">getMenu</a></li><li><a href="global.html#getMenuItemById">getMenuItemById</a></li><li><a href="global.html#getMenuItemInventory">getMenuItemInventory</a></li><li><a href="global.html#getProductUsage">getProductUsage</a></li><li><a href="global.html#getSalesPerHour">getSalesPerHour</a></li><li><a href="global.html#getTimeClass">getTimeClass</a></li><li><a href="global.html#getUnfinishedOrders">getUnfinishedOrders</a></li><li><a href="global.html#handleChooseItem">handleChooseItem</a></li><li><a href="global.html#handleDrinkSelection">handleDrinkSelection</a></li><li><a href="global.html#handleDrinkSelectionCancel">handleDrinkSelectionCancel</a></li><li><a href="global.html#handleFontDecrease">handleFontDecrease</a></li><li><a href="global.html#handleFontIncrease">handleFontIncrease</a></li><li><a href="global.html#handleIngredientAction">handleIngredientAction</a></li><li><a href="global.html#handleLoginSuccess">handleLoginSuccess</a></li><li><a href="global.html#handleLogout">handleLogout</a></li><li><a href="global.html#handleOrderTypeChange">handleOrderTypeChange</a></li><li><a href="global.html#handlePayment">handlePayment</a></li><li><a href="global.html#handlePhoneChange">handlePhoneChange</a></li><li><a href="global.html#handlePlaceOrder">handlePlaceOrder</a></li><li><a href="global.html#handleReviewClick">handleReviewClick</a></li><li><a href="global.html#handleViewChange">handleViewChange</a></li><li><a href="global.html#images">images</a></li><li><a href="global.html#isComboMeal">isComboMeal</a></li><li><a href="global.html#isWithinOrderRange">isWithinOrderRange</a></li><li><a href="global.html#location">location</a></li><li><a href="global.html#menuItemImages">menuItemImages</a></li><li><a href="global.html#navigateToPreviousOrders">navigateToPreviousOrders</a></li><li><a href="global.html#nextPage">nextPage</a></li><li><a href="global.html#openModificationModal">openModificationModal</a></li><li><a href="global.html#orderType">orderType</a></li><li><a href="global.html#orderTypeColor">orderTypeColor</a></li><li><a href="global.html#prevPage">prevPage</a></li><li><a href="global.html#removeFromCart">removeFromCart</a></li><li><a href="global.html#removeItem">removeItem</a></li><li><a href="global.html#renderCart">renderCart</a></li><li><a href="global.html#renderCategoryButtons">renderCategoryButtons</a></li><li><a href="global.html#renderMenuItems">renderMenuItems</a></li><li><a href="global.html#renderSpecialItems">renderSpecialItems</a></li><li><a href="global.html#renderTile">renderTile</a></li><li><a href="global.html#resetCart">resetCart</a></li><li><a href="global.html#toggleAccessibilityOptions">toggleAccessibilityOptions</a></li><li><a href="global.html#toggleHighContrastMode">toggleHighContrastMode</a></li><li><a href="global.html#toggleMenu">toggleMenu</a></li><li><a href="global.html#toggleModal">toggleModal</a></li><li><a href="global.html#translatePlaceholders">translatePlaceholders</a></li><li><a href="global.html#updateCustomerAddress">updateCustomerAddress</a></li><li><a href="global.html#updateEmployee">updateEmployee</a></li><li><a href="global.html#updateInventory">updateInventory</a></li><li><a href="global.html#updateInventoryItem">updateInventoryItem</a></li><li><a href="global.html#updateMenuItems">updateMenuItems</a></li><li><a href="global.html#updateOrderStatus">updateOrderStatus</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Tue Dec 03 2024 03:03:15 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
